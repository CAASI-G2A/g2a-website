!function(){var e={5315:function(e,t,n){"use strict";n(8594),n(4275),n(3734);var r=n(7294),o=n(3935),a=n(3727),c=n(5977),i=n(7625),l=n(1436),s="/researchers",u="/citizens",f="/about",m="/contact",p="/location";function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(l,e);var t,n,o,c,i=(o=l,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(o);if(c){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function l(){return h(this,l),i.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){return r.createElement("div",{className:"container"},r.createElement("div",{className:"navbar navbar-expand-lg"},r.createElement(a.OL,{to:"/",className:"navbar-brand",style:{fontWeight:"bold"}},"P",r.createElement("span",{style:{fontWeight:"bolder",opacity:.65}},"x"),"PUC"),r.createElement("button",{type:"button",className:"navbar-toggler navbar-light","data-toggle":"collapse","data-target":".navbar-collapse"},r.createElement("span",{className:"navbar-toggler-icon"})),r.createElement("div",{className:"navbar-collapse collapse"},r.createElement("ul",{className:"navbar-nav"},r.createElement("li",{className:"nav-item nav-link"},r.createElement(a.OL,{to:s},"Researchers")),r.createElement("li",{className:"nav-item nav-link"},r.createElement(a.OL,{to:u},"Citizens")),r.createElement("li",{className:"nav-item nav-link"},r.createElement(a.OL,{to:f},"About")),r.createElement("li",{className:"nav-item nav-link"},r.createElement(a.OL,{to:m},"Contact Us"))))))}}])&&y(t.prototype,n),l}(r.Component);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(i,e);var t,n,o,a,c=(o=i,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(o);if(a){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function i(){return w(this,i),c.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return r.createElement("footer",null,r.createElement("p",{className:"font-italic"},"The information you obtain at this site is not, nor is it intended to be, legal advice. The people who create and maintain this web site are not attorneys and the information here does not create an attorney client relationship. While we make every effort to remain up to date and comprehensive, the information provided is for informational purposes only and may not reflect the most current legal developments for all cases. To take legal action or to defend yourself in any individual case, you should consult an attorney for advice regarding your individual situation."),r.createElement("p",null,"© ",(new Date).getFullYear()," - CAASI From Grief to Action"))}}])&&N(t.prototype,n),i}(r.Component);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(l,e);var t,n,o,c,i=(o=l,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(o);if(c){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function l(){return R(this,l),i.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){return r.createElement("div",null,r.createElement("div",{className:"jumbotron",style:{backgroundImage:"url(https://i.imgur.com/jj0eBl5.jpg)",backgroundSize:"100%",paddingTop:"60px",paddingBottom:"90px"}},r.createElement("img",{src:"/static/app/img/CAASI2.png",style:{width:"55px",paddingBottom:"14px",opacity:.9}}),r.createElement("h1",{style:{color:"white"}},"P",r.createElement("span",{style:{fontWeight:"bolder",opacity:.5}},"x"),"PUC"),r.createElement("hr",{className:"my-4",style:{borderTop:"1px solid white"}}),r.createElement("p",{className:"lead",style:{color:"white"}},"Project"," ",r.createElement("span",{style:{fontWeight:"bolder",opacity:.5}},"x")," Police Union Contracts")),r.createElement("div",{className:"jumbotron",style:{backgroundColor:"white",paddingTop:"20px"}},r.createElement("h2",null,"What does our tool do?"),r.createElement("p",{className:"lead"},"Our tool allows researchers to explore police union contracts more easily for information, and helps citizens to find resources near them and learn more about the process of filing a misconduct complaint."),r.createElement(a.rU,{className:"btn btn-secondary float-right",to:f,role:"button"},"Learn more")),r.createElement("hr",{className:"my-4"}),r.createElement("div",{className:"jumbotron",style:{backgroundColor:"white",paddingTop:"20px"}},r.createElement("h2",null,"How can it help?"),r.createElement("p",{className:"lead"},"With a more widespread understanding of these police union contracts, we can help break down the barriers they pose to holding police offers accountable for misconduct and misconduct investigation processes. This can help those considering filing a police misconduct complaint understand more about how the process works and what it means for them if they choose to do so."),r.createElement(a.rU,{className:"btn btn-secondary float-right",to:f,role:"button"},"Learn more")),r.createElement("div",{className:"jumbotron"},r.createElement("h2",null,r.createElement(a.rU,{to:s},"Researchers: search and compare police union contracts")),r.createElement("p",{className:"lead"},"Search our database of police contracts by keyword or by city.")),r.createElement("div",{className:"jumbotron"},r.createElement("h2",null,r.createElement(a.rU,{to:u},"Citizens: learn about the process of filing a misconduct complaint")),r.createElement("p",{className:"lead"},"Learn about the stages of filing a complaint and find links to resources for your city.")))}}])&&_(t.prototype,n),l}(r.Component),I=n(7563),Q=n(2618),D=function(e){return e.json()},G={BASE_PATH:"/PxPUC",ENDPOINTS:{getLocations:function(){return"".concat(G.BASE_PATH,"/locations")},getLocation:function(e){return"".concat(G.BASE_PATH,"/location/").concat(e)},getLocationContract:function(e){return"".concat(G.BASE_PATH,"/location/").concat(e,"/contract")},getLocationContractFile:function(e,t){return"".concat(G.BASE_PATH,"/location/").concat(e,"/contract/download?format=").concat(t)},getLocationQuestions:function(e){return"".concat(G.BASE_PATH,"/location/").concat(e,"/questions")},getLocationProblematicSentences:function(e){return"".concat(G.BASE_PATH,"/location/").concat(e,"/problematic-sentences")},getLocationGlossary:function(e){return"".concat(G.BASE_PATH,"/location/").concat(e,"/glossary")},getLocationStages:function(e){return"".concat(G.BASE_PATH,"/location/").concat(e,"/stages")},getResearcherSearchResults:function(e){return"".concat(G.BASE_PATH,"/researcher?query=").concat(JSON.stringify(e))}},getLocations:function(){return fetch(G.ENDPOINTS.getLocations()).then(D)},getLocation:function(e){return fetch(G.ENDPOINTS.getLocation(e)).then(D)},getLocationContract:function(e){return fetch(G.ENDPOINTS.getLocationContract(e)).then(D)},getLocationContractFile:function(e,t){return fetch(G.ENDPOINTS.getLocationContractFile(e,t))},getLocationQuestions:function(e){return fetch(G.ENDPOINTS.getLocationQuestions(e)).then(D)},getLocationProblematicSentences:function(e){return fetch(G.ENDPOINTS.getLocationProblematicSentences(e)).then(D)},getLocationGlossary:function(e){return fetch(G.ENDPOINTS.getLocationGlossary(e)).then(D)},getLocationStages:function(e){return fetch(G.ENDPOINTS.getLocationStages(e)).then(D)},getResearcherSearchResults:function(e){return fetch(G.ENDPOINTS.getResearcherSearchResults(e)).then(D)}},q=G,F=n(4613),z=n.n(F),M=n(7763),W=n.n(M);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t,n){return t&&H(e.prototype,t),n&&H(e,n),e}function X(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var o=K(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?Y(e):t}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ee=function(e){X(n,e);var t=J(n);function n(e){var r;return B(this,n),(r=t.call(this,e)).state={expanded:!1},r.handleExpandedToggle=r.handleExpandedToggle.bind(Y(r)),r}return Z(n,[{key:"handleExpandedToggle",value:function(){this.props.collapsable&&this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){var e=this;return r.createElement("p",{className:"".concat(!this.state.expanded&&this.props.collapsable?"text-truncate":""),onClick:function(){return e.handleExpandedToggle()}},this.props.collapsable&&r.createElement("span",null,r.createElement("span",{className:"".concat(this.state.expanded?"d-none":"")},r.createElement(i.G,{icon:l._tD})," "),r.createElement("span",{className:"".concat(this.state.expanded?"":"d-none")},r.createElement(i.G,{icon:l.ptq}))),r.createElement(W(),{highlightClassName:"font-weight-bold px-0 bg-transparent",searchWords:this.props.searchQueryWords,autoEscape:!0,textToHighlight:this.props.sentence.text}))}}]),n}(r.Component),te=function(e){X(n,e);var t=J(n);function n(){return B(this,n),t.apply(this,arguments)}return Z(n,[{key:"render",value:function(){var e=this;return r.createElement("div",null,r.createElement("div",{className:"row mb-2"},r.createElement("div",{className:"col-md-12"},r.createElement("h3",null,r.createElement(a.rU,{to:"".concat(p,"/").concat(this.props.result.id)},this.props.result.name))),r.createElement("div",{className:"col-md-12"},r.createElement(ee,{searchQueryWords:this.props.searchQueryWords,sentence:{text:this.props.result.sentences.slice(0,3).map((function(e){return e.text})).join("\n")},key:this.props.result.sentences[0].id,collapsable:!1}),this.props.result.sentences.length-3>0&&r.createElement("a",{className:"text-decoration-none float-right","data-toggle":"collapse","aria-expanded":"false",href:"#sentences".concat(this.props.result.id),"aria-controls":"sentences".concat(this.props.result.id)},this.props.result.sentences.length-3," more sentences")),r.createElement("div",{className:"col-md-12 collapse",id:"sentences".concat(this.props.result.id)},this.props.result.sentences.slice(3).map((function(t){return r.createElement(ee,{searchQueryWords:e.props.searchQueryWords,sentence:t,key:t.id,collapsable:!0})})))),r.createElement("hr",{className:"my-4 border-top border-light-gray"}))}}]),n}(r.Component);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?ie(e):t}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(u,e);var t,n,o,a,c=(o=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=le(o);if(a){var n=le(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ce(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,e)).state={searchQuery:"",searchQueryWords:[],searchQueryError:null,queryResults:null,filteredQueryResults:null,queryResultStates:null,stateFilter:"null",currentPage:1,totalPages:1,pageSize:10},t.setPage=t.setPage.bind(ie(t)),t.setPageSize=t.setPageSize.bind(ie(t)),t.setSearchQuery=t.setSearchQuery.bind(ie(t)),t.setStateFilter=t.setStateFilter.bind(ie(t)),t.handleSearch=t.handleSearch.bind(ie(t)),t}return t=u,(n=[{key:"setPage",value:function(e){this.setState({currentPage:e}),Q("#results")}},{key:"setPageSize",value:function(e){e=parseInt(e),this.setState({pageSize:e,totalPages:Math.ceil(this.state.filteredQueryResults.length/e),currentPage:1})}},{key:"setSearchQuery",value:function(e,t){var n=this;this.setState({searchQuery:e},(function(){return t?n.handleSearch():null}))}},{key:"setStateFilter",value:function(e){if(e){var t=this.state.queryResults.filter((function(t){return t.state===e}));this.setState({filteredQueryResults:t,stateFilter:e,currentPage:1,totalPages:Math.ceil(t.length/this.state.pageSize)})}else this.setState({filteredQueryResults:this.state.queryResults,stateFilter:"null",currentPage:1,totalPages:Math.ceil(this.state.queryResults.length/this.state.pageSize)})}},{key:"handleSearch",value:function(e){var t=this;e&&e.preventDefault();try{var n=z().parse(this.state.searchQuery),r=function e(t){return"string"==typeof t?[t]:e(t.operand1).concat(e(t.operand2))}(n.query);q.getResearcherSearchResults(n).then((function(e){var n=e.filter((function(e){return e.sentences.length>0}));n.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}));var o,a=function(e){if(Array.isArray(e))return re(e)}(o=new Set(n.map((function(e){return e.state}))))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();t.setState({queryResults:n,filteredQueryResults:n,queryResultStates:a,searchQueryError:null,searchQueryWords:r,stateFilter:"null",totalPages:Math.ceil(n.length/t.state.pageSize)})})),this.props.history.push({pathname:s,search:"?"+new URLSearchParams({search:this.state.searchQuery}).toString()})}catch(e){if(!(e instanceof z().SyntaxError))throw e;this.setState({searchQueryError:e})}}},{key:"componentDidMount",value:function(){var e=I.parse(this.props.location.search);e.search&&this.setSearchQuery(e.search,!0)}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:"row mt-3"},r.createElement("div",{className:"col-lg-12"},r.createElement("div",{className:"col-md-6 offset-md-3"},r.createElement("form",{onSubmit:function(t){return e.handleSearch(t)}},r.createElement("div",{className:"input-group"},r.createElement("input",{type:"text",className:"form-control input-lg ".concat(this.state.searchQueryError?"border-danger":""),placeholder:"Search Query...",value:this.state.searchQuery,onChange:function(t){return e.setSearchQuery(t.target.value,!1)}}),r.createElement("div",{className:"input-group-append"},r.createElement("button",{className:"btn btn-outline-primary",type:"submit"},r.createElement(i.G,{icon:l.wn1})))),this.state.searchQueryError&&r.createElement("p",{className:"text-danger text-center"},"This search query is invalid")))),r.createElement("div",{className:"col-lg-12 mt-3"},r.createElement("div",{className:"col-md-6 offset-md-3 text-center"},r.createElement("div",{className:"btn-group",role:"group","aria-label":"..."},r.createElement("button",{type:"button",onClick:function(){return e.setSearchQuery("file",!0)},className:"btn btn-info btn-rounded mr-2"},"file"),r.createElement("button",{type:"button",onClick:function(){return e.setSearchQuery("interview",!0)},className:"btn btn-info btn-rounded mr-2"},"interview"),r.createElement("button",{type:"button",onClick:function(){return e.setSearchQuery("arbitration",!0)},className:"btn btn-info btn-rounded mr-2"},"arbitration"),r.createElement("button",{type:"button",onClick:function(){return e.setSearchQuery("review",!0)},className:"btn btn-info btn-rounded mr-2"},"review"),r.createElement("button",{type:"button",onClick:function(){return e.setSearchQuery("investigation",!0)},className:"btn btn-info btn-rounded"},"investigation")))),this.state.filteredQueryResults&&r.createElement("div",{className:"col-lg-12"},this.state.queryResultStates&&r.createElement("div",{className:"col-lg-12 mt-3 row"},r.createElement("div",{className:"col-md-3"},r.createElement("div",{className:"input-group"},r.createElement("select",{className:"custom-select",value:this.state.stateFilter,onChange:function(t){return e.setStateFilter(t.target.value)}},r.createElement("option",{value:"null",disabled:!0},"Filter by State"),this.state.queryResultStates.map((function(e){return r.createElement("option",{key:e},e)}))),r.createElement("div",{className:"input-group-append"},r.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){return e.setStateFilter()}},r.createElement(i.G,{icon:l.NBC}))))),r.createElement("div",{className:"col-md-3 offset-md-6"},r.createElement("select",{className:"custom-select",defaultValue:"null",onChange:function(t){return e.setPageSize(t.target.value)}},r.createElement("option",{value:"null",disabled:!0},"Results per Page"),r.createElement("option",{value:"10"},"10"),r.createElement("option",{value:"20"},"20"),r.createElement("option",{value:"50"},"50"),r.createElement("option",{value:"100"},"100")))),r.createElement("div",{className:"col-lg-12 mt-3",id:"results"},r.createElement("h2",null,"Results"),r.createElement("hr",{className:"my-4 border-top border-secondary"}),this.state.queryResults&&r.createElement("h4",null,this.state.queryResults.length," Results found!")),r.createElement("div",{className:"col-lg-12 mt-3"},0===this.state.filteredQueryResults.length&&r.createElement("p",{className:"text-center lead"},"Sorry, it appears there are no results for this search!"),this.state.filteredQueryResults.slice(this.state.pageSize*(this.state.currentPage-1),this.state.pageSize*this.state.currentPage).map((function(t){return r.createElement(te,{result:t,searchQueryWords:e.state.searchQueryWords,key:t.id})})),this.state.filteredQueryResults.length>0&&r.createElement("div",{className:"col-lg-12"},r.createElement("nav",{"aria-label":"Result navigation"},r.createElement("ul",{className:"pagination justify-content-center"},this.state.currentPage-1>0&&r.createElement("li",null,r.createElement("a",{className:"page-link","aria-label":"Previous",onClick:function(){return e.setPage(e.state.currentPage-1)}},r.createElement("span",{"aria-hidden":"true"},"«"))),this.state.currentPage-2>0&&r.createElement("li",{className:"page-item",onClick:function(){return e.setPage(e.state.currentPage-2)}},r.createElement("a",{className:"page-link"},this.state.currentPage-2)),this.state.currentPage-1>0&&r.createElement("li",{className:"page-item",onClick:function(){return e.setPage(e.state.currentPage-1)}},r.createElement("a",{className:"page-link"},this.state.currentPage-1)),r.createElement("li",{className:"page-item active"},r.createElement("a",{className:"page-link"},this.state.currentPage)),this.state.currentPage+1<=this.state.totalPages&&r.createElement("li",{className:"page-item",onClick:function(){return e.setPage(e.state.currentPage+1)}},r.createElement("a",{className:"page-link"},this.state.currentPage+1)),this.state.currentPage+2<=this.state.totalPages&&r.createElement("li",{className:"page-item",onClick:function(){return e.setPage(e.state.currentPage+2)}},r.createElement("a",{className:"page-link"},this.state.currentPage+2)),this.state.currentPage+1<=this.state.totalPages&&r.createElement("li",{className:"page-item"},r.createElement("a",{className:"page-link","aria-label":"Next",onClick:function(){return e.setPage(e.state.currentPage+1)}},r.createElement("span",{"aria-hidden":"true"},"»")))))))))}}])&&oe(t.prototype,n),u}(r.Component),ue=n(7762),fe=n(7049),me=n(9755),pe=n.n(me);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(6469),n(6101);var Ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(i,e);var t,n,o,a,c=(o=i,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ve(o);if(a){var n=ve(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ge(this,e)});function i(){return he(this,i),c.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return r.createElement("div",{id:this.props.id,className:"card border-blue"},r.createElement("div",{className:"card-header bg-blue font-weight-bold text-white"},this.props.stage.title),r.createElement("div",{className:"card-body",dangerouslySetInnerHTML:{__html:this.props.stage.content}}),this.props.stage.resources&&r.createElement("div",{className:"card-footer",dangerouslySetInnerHTML:{__html:this.props.stage.resources}}),r.createElement("div",{className:"card-header bg-blue font-weight-bold text-white"},"Frequently Asked Questions"),r.createElement("div",{className:"pt-1",id:"citizenInfoPanelAccordion"},this.props.questions&&this.props.questions.map((function(e){return r.createElement("div",{key:e.id,className:"card card-default"},r.createElement("div",{className:"card-header",role:"tab",id:"heading{{q.id}}"},r.createElement("a",{className:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse".concat(e.id),"aria-expanded":"false","aria-controls":"collapse".concat(e.id)},e.question)),r.createElement("div",{id:"collapse".concat(e.id),className:"collapse","aria-labelledby":"heading".concat(e.id),"data-parent":"#citizenInfoPanelAccordion"},r.createElement("div",{className:"card-body",dangerouslySetInnerHTML:{__html:e.answer}})))}))))}}])&&ye(t.prototype,n),i}(r.Component);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}}(e,t)||xe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=xe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw a}}}}function xe(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?Re(e):t}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(s,e);var t,n,o,a,c=(o=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_e(o);if(a){var n=_e(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return je(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).state={locations:{},location:null,locationQuestions:null,locationStages:null,locationGlossary:null,stageOrder:["pre-complaint","complaint","review","investigation","result"],curStage:null,locationSubStages:{review:[{id:1,text:"DAR is filed. Copies given to officer",faq:{title:"FAQ",text:"FAQ TEXT"}},{id:2,text:"DAR goes through the chain of command"},{id:3,text:"DOPS holds meeting with officer",alternates:[{id:4,text:"No discipline"}]}]},leaderLines:[]},t.drawLeaderLines=t.drawLeaderLines.bind(Re(t)),t.getLocationQuestions=t.getLocationQuestions.bind(Re(t)),t.getLocationStages=t.getLocationStages.bind(Re(t)),t.getLocationGlossary=t.getLocationGlossary.bind(Re(t)),t.applyGlossary=t.applyGlossary.bind(Re(t)),t.handleLocationSelect=t.handleLocationSelect.bind(Re(t)),t.handleIconClick=t.handleIconClick.bind(Re(t)),t}return t=s,(n=[{key:"drawLeaderLines",value:function(){for(var e=function(e){return e.children[0].children[0].children[0]},t={color:"#337ab7",path:"straight"},n=[],r=0,o=[["pre-complaintIcon","complaintIcon"],["complaintIcon","reviewIcon"],["reviewIcon","investigationIcon"],["investigationIcon","resultIcon"]];r<o.length;r++){var a=o[r];n.push(new fe.Z(e(document.getElementById(a[0])),e(document.getElementById(a[1])),t))}this.setState({leaderLines:n})}},{key:"getLocationQuestions",value:function(){var e=this;q.getLocationQuestions(this.state.location.id).then((function(t){var n,r={},o=Ne(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;r[a.name.toLowerCase()]=a.questions}}catch(e){o.e(e)}finally{o.f()}e.setState({locationQuestions:r})}))}},{key:"getLocationStages",value:function(){var e=this;q.getLocationStages(this.state.location.id).then((function(t){e.setState({locationStages:t})}))}},{key:"getLocationGlossary",value:function(){var e=this;q.getLocationGlossary(this.state.location.id).then((function(t){e.setState({locationGlossary:t},(function(){e.applyGlossary()}))}))}},{key:"applyGlossary",value:function(){if(this.state.locationGlossary&&this.state.locationSubStages){for(var e={},t=0,n=Object.entries(this.state.locationSubStages);t<n.length;t++){var o,a=we(n[t],2),c=a[0],s=a[1],u=Ne(s);try{for(u.s();!(o=u.n()).done;){var f=o.value;f.html=f.text;var m,p=Ne(this.state.locationGlossary);try{for(p.s();!(m=p.n()).done;){var d=m.value,h=function(e){if(Array.isArray(e))return Pe(e)}(v=f.text.matchAll(new RegExp("\\b".concat(d.term,"\\b"),"g")))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(v)||xe(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();h.reverse();var y,b=Ne(h);try{for(b.s();!(y=b.n()).done;){var g=y.value.index;f.html="".concat(f.html.substr(0,g),'<a\n\t\t      data-toggle="tooltip"\n\t\t      title=""\n\t\t      data-original-title="').concat(d.definition,'"\n\t\t    >').concat(d.term).concat(ue.renderToString(r.createElement(i.G,{className:"fa-xs mb-3",icon:l.sph})),"\n\t\t    </a>").concat(f.html.substr(g+d.term.length))}}catch(e){b.e(e)}finally{b.f()}}}catch(e){p.e(e)}finally{p.f()}}}catch(e){u.e(e)}finally{u.f()}e[c]=s}this.setState({locationSubStages:e})}var v}},{key:"handleLocationSelect",value:function(e){var t=this;this.setState({location:e},(function(){t.getLocationQuestions(),t.getLocationStages(),t.getLocationGlossary()}))}},{key:"handleIconClick",value:function(e){this.setState({curStage:e},(function(){Q("#citizenInfoPanel")}))}},{key:"componentDidMount",value:function(){var e=this;pe()('[data-toggle="tooltip"]').tooltip(),pe()('[data-toggle="popover"]').popover(),q.getLocations().then((function(t){var n,r={},o=Ne(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;r[a.state]?r[a.state].push(a):r[a.state]=[a]}}catch(e){o.e(e)}finally{o.f()}var c,i=e.props.match.params.lid;c=i?t.find((function(e){return e.id==i})):t.find((function(e){return"Pittsburgh"==e.name})),e.setState({locations:r,location:c},(function(){e.drawLeaderLines(),e.getLocationQuestions(),e.getLocationStages(),e.getLocationGlossary()}))}))}},{key:"componentDidUpdate",value:function(e,t,n){if(pe()('[data-toggle="tooltip"]').tooltip(),pe()('[data-toggle="popover"]').popover(),t.curStage!==this.state.curStage){for(var r={color:"#337ab7",path:"straight"},o=function(e){return e.children[0].children[0]},a=[],c=0,i=[["sub1","sub2"],["sub2","sub3"],["sub3","subEnd"]];c<i.length;c++){var l=i[c];a.push(new fe.Z(o(document.getElementById(l[0])),o(document.getElementById(l[1])),r))}new fe.Z(document.getElementById("leader-line-".concat(a[a.length-1]._id,"-line-path")),o(document.getElementById("sub4")),r)}}},{key:"componentWillUnmount",value:function(){var e,t=Ne(this.state.leaderLines);try{for(t.s();!(e=t.n()).done;)e.value.remove()}catch(e){t.e(e)}finally{t.f()}}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:"container-fluid"},r.createElement("div",{className:"dropdown text-center"},r.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{margin:"10px auto"}},"Choose a state",r.createElement("span",{className:"caret"})),r.createElement("div",{className:"dropdown-menu multi-level"},Object.entries(this.state.locations).map((function(t){var n=we(t,2),o=n[0],a=n[1];return r.createElement("li",{key:o,className:"dropdown-submenu"},r.createElement("a",{className:"dropdown-item"},o),r.createElement("ul",{className:"dropdown-menu"},a.map((function(t){return r.createElement("li",{key:t.id},r.createElement("a",{className:"dropdown-item",onClick:function(){return e.handleLocationSelect(t)}},t.name))}))))})))),r.createElement("div",{className:"jumbotron"},r.createElement("h1",null,this.state.location&&this.state.location.name),r.createElement("p",{className:"lead"},"This tool highlights the phases involved in the process of filing a police complaint. Click on a circle to learn more about that particular phase. Disclaimer: All the information presented with this tool was found on the OMI and CPRB websites.")),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-2 offset-md-1 mb-5"},r.createElement("div",{className:"row"},r.createElement("div",{className:"text-center flow-stage col-6 col-lg-12",id:"pre-complaintIcon",onClick:function(){return e.handleIconClick("pre-complaint")}},r.createElement("span",{className:"fa-stack fa-5x"},r.createElement(i.G,{id:"pre-complaintCircle",className:"fa-stack-2x flow-circle w-100 ".concat("pre-complaint"==this.state.curStage?"flow-circle-selected":""),icon:l.diR}),r.createElement(i.G,{className:"fa-stack-1x fa-inverse",icon:l.FVb}))),r.createElement("h2",{className:"text-center flow-stage-text col-6 col-lg-12"},"Interaction"))),r.createElement("div",{className:"col-md-2 mb-5"},r.createElement("div",{className:"row"},r.createElement("div",{className:"text-center flow-stage col-6 col-lg-12",id:"complaintIcon",onClick:function(){return e.handleIconClick("complaint")}},r.createElement("span",{className:"fa-stack fa-5x"},r.createElement(i.G,{id:"complaintCircle",className:"fa-stack-2x flow-circle w-100 ".concat("complaint"==this.state.curStage?"flow-circle-selected":""),icon:l.diR}),r.createElement(i.G,{className:"fa-stack-1x fa-inverse",icon:l.RLE}))),r.createElement("h2",{className:"text-center flow-stage-text col-6 col-lg-12"},"Complaint"))),r.createElement("div",{className:"col-md-2 mb-5"},r.createElement("div",{className:"row"},r.createElement("div",{className:"text-center flow-stage col-6 col-lg-12",id:"reviewIcon",onClick:function(){return e.handleIconClick("review")}},r.createElement("span",{className:"fa-stack fa-5x"},r.createElement(i.G,{id:"reviewCircle",className:"fa-stack-2x flow-circle w-100 ".concat("review"==this.state.curStage?"flow-circle-selected":""),icon:l.diR}),r.createElement(i.G,{className:"fa-stack-1x fa-inverse",icon:l.Xcf}))),r.createElement("h2",{className:"text-center flow-stage-text col-6 col-lg-12"},"Review"))),this.state.locationSubStages.review&&this.state.locationSubStages.review.map((function(e,t,n){return r.createElement("div",{className:"col-md-2 ".concat(t===n.length-1?"mb-5":"mb-2"," d-lg-none")},r.createElement("div",{className:"row"},r.createElement("div",{className:"text-center flow-stage col-6 col-lg-12"},r.createElement(i.G,{className:"fa-2x flow-circle",icon:l.diR})),r.createElement("span",{className:"flow-stage-text col-6 col-lg-12",dangerouslySetInnerHTML:{__html:e.html}})))})),r.createElement("div",{className:"col-md-2 mb-5"},r.createElement("div",{className:"row"},r.createElement("div",{className:"text-center flow-stage col-6 col-lg-12",id:"investigationIcon",onClick:function(){return e.handleIconClick("investigation")}},r.createElement("span",{className:"fa-stack fa-5x"},r.createElement(i.G,{id:"investigationCircle",className:"fa-stack-2x flow-circle w-100 ".concat("investigation"==this.state.curStage?"flow-circle-selected":""),icon:l.diR}),r.createElement(i.G,{className:"fa-stack-1x fa-inverse",icon:l.wn1}))),r.createElement("h2",{className:"text-center flow-stage-text col-6 col-lg-12"},"Investigation"))),r.createElement("div",{className:"col-md-2 mb-5"},r.createElement("div",{className:"row"},r.createElement("div",{className:"text-center flow-stage col-6 col-lg-12",id:"resultIcon",onClick:function(){return e.handleIconClick("result")}},r.createElement("span",{className:"fa-stack fa-5x"},r.createElement(i.G,{id:"resultCircle",className:"fa-stack-2x flow-circle w-100 ".concat("result"==this.state.curStage?"flow-circle-selected":""),icon:l.diR}),r.createElement(i.G,{className:"fa-stack-1x fa-inverse",icon:l.LEp}))),r.createElement("h2",{className:"text-center flow-stage-text col-6 col-lg-12"},"Result")))),this.state.locationSubStages[this.state.curStage]&&r.createElement("div",{className:"row d-none d-lg-block"},r.createElement("h3",{className:"text-capitalize"},this.state.curStage),this.state.locationSubStages[this.state.curStage].map((function(e){return r.createElement("div",null,r.createElement("div",{className:"row no-gutters"},r.createElement("div",{className:"pl-3 py-3 col-md-auto d-flex align-items-center"},r.createElement("div",{id:"sub".concat(e.id)},r.createElement(i.G,{className:"flow-circle fa-3x",icon:l.diR}))),e.faq&&r.createElement("div",{className:"col-md-auto d-flex align-items-start ml-n2 subprocess-faq-icon"},r.createElement("a",{tabIndex:"0","data-toggle":"popover",title:e.faq.title,"data-content":e.faq.text},r.createElement("span",{className:"fa-stack fa-xs"},r.createElement(i.G,{className:"fa-stack-2x flow-circle w-100",icon:l.diR}),r.createElement(i.G,{className:"fa-stack-1x fa-inverse",icon:l.cNd})))),r.createElement("div",{className:"col-md d-flex align-items-center ".concat(e.faq?"subprocess-ml-n":"")},r.createElement("h4",{dangerouslySetInnerHTML:{__html:e.html}}))),e.alternates&&r.createElement("div",{className:"row no-gutters"},e.alternates.map((function(e){return r.createElement("div",{className:"offset-md-1 row no-gutters"},r.createElement("div",{className:"col-md-auto d-flex align-items-center"},r.createElement("div",{id:"sub".concat(e.id)},r.createElement(i.G,{className:"flow-circle fa-3x",icon:l.diR}))),r.createElement("div",{className:"col-md d-flex align-items-center"},r.createElement("h4",null,e.text)))}))))})),r.createElement("div",{className:"row no-gutters"},r.createElement("div",{className:"col-md-auto d-flex align-items-center"},r.createElement("div",{id:"subEnd",className:"py-4"},r.createElement(i.G,{className:"flow-circle fa-5x",icon:l.diR}))),r.createElement("div",{className:"col-md d-flex align-items-center"},r.createElement("h2",{className:"text-capitalize"},this.state.stageOrder[this.state.stageOrder.indexOf(this.state.curStage)+1])))),r.createElement("div",{className:"row"},this.state.curStage&&r.createElement(Ee,{id:"citizenInfoPanel",stage:this.state.locationStages[this.state.curStage],questions:this.state.locationQuestions[this.state.curStage]})))}}])&&Oe(t.prototype,n),s}(r.Component);function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(i,e);var t,n,o,a,c=(o=i,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=De(o);if(a){var n=De(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Qe(this,e)});function i(){return Ae(this,i),c.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return r.createElement("div",null,r.createElement("h1",{className:"text-center pt-5 pl-2"},"About P",r.createElement("span",{style:{color:"#5685d1"}},"x"),"PUC"),r.createElement("div",{className:"jumbotron pb-5"},r.createElement("p",{className:"lead"},"The P",r.createElement("span",{style:{color:"#5685d1"}},"x"),"PUC team is made up of a subset of members from Grief to Action (G2A) , a working group at the University of Pittsburgh's Center for Analytical Approaches."," "),r.createElement("p",{className:"lead"},"Our team is made up of students, staff, and community members who came together this summer in the wake of George Floyd's murder to use data analysis to address structural racism in Pittsburgh and beyond.")),r.createElement("div",{className:"jumbotron pt-0 bg-white"},r.createElement("hr",{className:"my-4 border-top border-secondary"}),r.createElement("p",{className:"lead"},"The aim of this project is to analyze police union contracts and the barriers they pose to holding police officers accountable, as well as to demystify the police misconduct investigation process."),r.createElement("p",{className:"lead"},"Our search tool allows users to easily look up information in these contracts, and helps them to become more familiar with some of the problematic language used within them and break this information down."),r.createElement("hr",{className:"my-4 border-top border-secondary"})))}}])&&Le(t.prototype,n),i}(r.Component);function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function We(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(i,e);var t,n,o,a,c=(o=i,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ue(o);if(a){var n=Ue(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return We(this,e)});function i(){return Fe(this,i),c.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return r.createElement("div",null,r.createElement("h1",{className:"text-center pt-5 pl-2"},"Contact Us"),r.createElement("div",{className:"jumbotron pt-2 bg-white"},r.createElement("hr",{className:"my-4 border-top border-secondary"}),r.createElement("p",{className:"lead text-center"},"Feel free to e-mail us with any questions or inquiries. We're happy to help!"),r.createElement("address",{className:"text-center"},r.createElement("strong",null,"General:"),r.createElement("span",null," ",r.createElement("a",{href:"mailto:iph34@pitt.edu"},"iph3@pitt.edu")),r.createElement("br",null)),r.createElement("address",{className:"text-center"},r.createElement("strong",null,"Tech Support:"),r.createElement("span",null," ",r.createElement("a",{href:"mailto:cjk94@pitt.edu"},"cjk94@pitt.edu")),r.createElement("br",null)),r.createElement("hr",{className:"my-4 border-top border-secondary"})))}}])&&ze(t.prototype,n),i}(r.Component);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Xe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw a}}}}function Xe(e,t){if(e){if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$e(e,t):void 0}}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(s,e);var t,n,o,a,c=(o=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ke(o);if(a){var n=Ke(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ye(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).categories={cityPayMisconduct:"Citys Pays for Misconduct",disqualifyComplaint:"Disqualifies Complaints",eraseMisconduct:"Erases Misconduct Records",limitOversight:"Limits Oversight",unfairInformation:"Gives Officer Unfair Access to Information"},t.state={location:null,contract:null,problematicSentences:null},t}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.lid;q.getLocation(t).then((function(t){e.setState({location:t})})),q.getLocationContract(t).then((function(t){t.text=t.text.split("\n"),e.setState({contract:t})})),q.getLocationProblematicSentences(t).then((function(t){for(var n={},r=0,o=Object.keys(e.categories);r<o.length;r++){var a=o[r];n[a]=[];var c,i=Ze(t);try{for(i.s();!(c=i.n()).done;){var l=c.value;!0===l[a]&&n[a].push({text:l.text,impact:l.impact})}}catch(e){i.e(e)}finally{i.f()}}e.setState({problematicSentences:n})}))}},{key:"render",value:function(){var e=this;return r.createElement("div",null,this.state.location&&r.createElement("div",{className:"jumbotron"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-9"},r.createElement("h1",null,this.state.location.name," Contract"))),r.createElement("div",{className:"row justify-content-end"},this.state.location.hasPdf&&r.createElement("a",{className:"btn btn-primary mr-2",href:q.ENDPOINTS.getLocationContractFile(this.state.location.id,"pdf"),download:!0},r.createElement("span",{className:"font-weight-bold"},"Download PDF "),r.createElement(i.G,{icon:l.kwI})),this.state.location.hasTxt&&r.createElement("a",{className:"btn btn-primary mr-2",href:q.ENDPOINTS.getLocationContractFile(this.state.location.id,"txt"),download:!0},r.createElement("span",{className:"font-weight-bold"},"Download TXT "),r.createElement(i.G,{icon:l.kwI})))),r.createElement("div",{className:"row"},r.createElement("div",{className:"offset-md-6 col-md-6"},r.createElement("h3",{className:"text-center"},"Summary"),r.createElement("table",{className:"table table-hover table-bordered"},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("th",{className:"bg-light"},"City"),this.state.location&&r.createElement("td",null,this.state.location.name),r.createElement("th",{className:"bg-light"},"State"),this.state.location&&r.createElement("td",null,this.state.location.state))))),r.createElement("div",{className:"col-md-12"},r.createElement("h2",null,"Problematic Sentences"),r.createElement("hr",{className:"my-4 border-top border-secondary"}),r.createElement("ul",{className:"nav nav-tabs",role:"tablist"},Object.entries(this.categories).map((function(e,t){var n,o,a=(o=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}}(n,o)||Xe(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],i=a[1];return r.createElement("li",{key:c,role:"presentation",className:"nav-item"},r.createElement("a",{className:"".concat(0===t?"active":""," nav-link"),href:"#".concat(c),"aria-controls":c,role:"tab","data-toggle":"tab"},i))}))),r.createElement("div",{className:"tab-content"},Object.keys(this.categories).map((function(t,n){return r.createElement("div",{key:t,role:"tabpanel",className:"tab-pane ".concat(0===n?"active":""),id:t},e.state.problematicSentences&&e.state.problematicSentences[t]&&(0===e.state.problematicSentences[t].length&&r.createElement("p",{className:"text-center"},"No problematic sentences were identified by Campaign 0 as of June 29, 2016.")||e.state.problematicSentences[t].map((function(e,t){return r.createElement("p",{key:t},r.createElement("span",{className:"font-weight-bold"},"Problem:")," ",e.text,r.createElement("br",null),r.createElement("span",{className:"font-weight-bold"},"Impact:")," ",e.impact)}))))})))),this.state.contract&&r.createElement("div",{className:"col-md-12"},r.createElement("h2",null,"Contract"),r.createElement("hr",{className:"my-4 border-top border-secondary"}),this.state.contract.text.map((function(e,t){return r.createElement("p",{key:t},e)})))))}}])&&Je(t.prototype,n),s}(r.Component),tt=n(9755);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ct(e,t){return!t||"object"!==nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(d,e);var t,n,o,u,p=(o=d,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=it(o);if(u){var n=it(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ct(this,e)});function d(){return rt(this,d),p.apply(this,arguments)}return t=d,(n=[{key:"componentDidMount",value:function(){tt(document).ready((function(){tt(window).scroll((function(){tt(this).scrollTop()>50?tt("#back-to-top").fadeIn():tt("#back-to-top").fadeOut()})),tt("#back-to-top").click((function(){return tt("body,html").animate({scrollTop:0},400),!1}))}))}},{key:"render",value:function(){return r.createElement(a.UT,null,r.createElement(E,null),r.createElement("div",{className:"container body-content"},r.createElement(c.rs,null,r.createElement(c.AW,{path:"/",exact:!0,component:L}),r.createElement(c.AW,{path:s,component:se}),r.createElement(c.AW,{path:"/citizens/:lid?",component:Ce}),r.createElement(c.AW,{path:f,component:Ge}),r.createElement(c.AW,{path:m,component:Be}),r.createElement(c.AW,{path:"/location/:lid",component:et})),r.createElement("a",{id:"back-to-top",href:"#",className:"btn btn-light btn-lg back-to-top",role:"button"},r.createElement(i.G,{icon:l.mTx})),r.createElement("hr",null),r.createElement(k,null)))}}])&&ot(t.prototype,n),d}(r.Component),st=document.getElementById("app");st&&(0,o.render)(r.createElement(lt,null),st)},4275:function(){var e;(e=window.Node||window.Element)&&e.prototype&&null==e.prototype.children&&Object.defineProperty(e.prototype,"children",{get:function(){for(var e,t=0,n=this.childNodes,r=[];e=n[t++];)1===e.nodeType&&r.push(e);return r}})},4613:function(e){"use strict";function t(e,n,r,o){this.message=e,this.expected=n,this.found=r,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(t,Error),t.buildMessage=function(e,t){var n={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?a(e.parts[t][0])+"-"+a(e.parts[t][1]):a(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function a(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}return"Expected "+function(e){var t,r,o,a=new Array(e.length);for(t=0;t<e.length;t++)a[t]=(o=e[t],n[o.type](o));if(a.sort(),a.length>0){for(t=1,r=1;t<a.length;t++)a[t-1]!==a[t]&&(a[r]=a[t],r++);a.length=r}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:t,parse:function(e,n){n=void 0!==n?n:{};var r,o,a,c,i={},l={S:O},s=O,u=w(" and ",!0),f=w(" or ",!0),m=w('"',!1),p=w(" ",!1),d=function(){return e.substring(g,b)},h=/^[A-Za-z0-9'.!?]/,y={type:"class",parts:[["A","Z"],["a","z"],["0","9"],"'",".","!","?"],inverted:!1,ignoreCase:!1},b=0,g=0,v=[{line:1,column:1}],E=0,S=[];if("startRule"in n){if(!(n.startRule in l))throw new Error("Can't start parsing from rule \""+n.startRule+'".');s=l[n.startRule]}function w(e,t){return{type:"literal",text:e,ignoreCase:t}}function N(t){var n,r=v[t];if(r)return r;for(n=t-1;!v[n];)n--;for(r={line:(r=v[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return v[t]=r,r}function x(e,t){var n=N(e),r=N(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function P(e){b<E||(b>E&&(E=b,S=[]),S.push(e))}function O(){var e,t;return e=b,(t=k())!==i&&(g=e,t={query:t}),t}function k(){var t;return(t=function(){var t,n,r;return t=b,(n=R())!==i&&function(){var t;return" or "===e.substr(b,4).toLowerCase()?(t=e.substr(b,4),b+=4):(t=i,P(f)),t}()!==i&&(r=k())!==i?(g=t,t=n={operation:"OR",operand1:n,operand2:r}):(b=t,t=i),t}())===i&&(t=function(){var t,n,r;return t=b,(n=R())!==i&&function(){var t;return" and "===e.substr(b,5).toLowerCase()?(t=e.substr(b,5),b+=5):(t=i,P(u)),t}()!==i&&(r=k())!==i?(g=t,t=n={operation:"AND",operand1:n,operand2:r}):(b=t,t=i),t}())===i&&(t=_())===i&&(t=C()),t}function j(){var t;return 34===e.charCodeAt(b)?(t='"',b++):(t=i,P(m)),t}function R(){var e;return(e=_())===i&&(e=C()),e}function _(){var t,n,r,o,a;if(t=b,j()!==i){for(n=[],r=b,(o=C())!==i?(32===e.charCodeAt(b)?(a=" ",b++):(a=i,P(p)),a!==i?r=o=[o,a]:(b=r,r=i)):(b=r,r=i);r!==i;)n.push(r),r=b,(o=C())!==i?(32===e.charCodeAt(b)?(a=" ",b++):(a=i,P(p)),a!==i?r=o=[o,a]:(b=r,r=i)):(b=r,r=i);n!==i&&(r=C())!==i&&(o=j())!==i?(g=t,t=d()):(b=t,t=i)}else b=t,t=i;return t}function C(){var t,n,r;if(t=b,n=[],h.test(e.charAt(b))?(r=e.charAt(b),b++):(r=i,P(y)),r!==i)for(;r!==i;)n.push(r),h.test(e.charAt(b))?(r=e.charAt(b),b++):(r=i,P(y));else n=i;return n!==i&&(g=t,n=d()),n}if((r=s())!==i&&b===e.length)return r;throw r!==i&&b<e.length&&P({type:"end"}),o=S,a=E<e.length?e.charAt(E):null,c=E<e.length?x(E,E+1):x(E,E),new t(t.buildMessage(o,a),o,a,c)}}}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.x=function(){},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={179:0},t=[[5315,736]],r=function(){},o=function(o,a){for(var c,i,l=a[0],s=a[1],u=a[2],f=a[3],m=0,p=[];m<l.length;m++)i=l[m],n.o(e,i)&&e[i]&&p.push(e[i][0]),e[i]=0;for(c in s)n.o(s,c)&&(n.m[c]=s[c]);for(u&&u(n),o&&o(a);p.length;)p.shift()();return f&&t.push.apply(t,f),r()},a=self.webpackChunkppuc=self.webpackChunkppuc||[];function c(){for(var r,o=0;o<t.length;o++){for(var a=t[o],c=!0,i=1;i<a.length;i++){var l=a[i];0!==e[l]&&(c=!1)}c&&(t.splice(o--,1),r=n(n.s=a[0]))}return 0===t.length&&(n.x(),n.x=function(){}),r}a.forEach(o.bind(null,0)),a.push=o.bind(null,a.push.bind(a));var i=n.x;n.x=function(){return n.x=i||function(){},(r=c)()}}(),n.x()}();